@if (IsVisible)
{
    <div class="modal">
        <div class="modal-wrapper">
            <dialog open>
                @if (!string.IsNullOrEmpty(Title))
                {
                    <header class="horizontal space">
                        <h3>@Title</h3>
                        @if (ShowCloseButton)
                        {
                            <button type="button" class="close-button" @onclick="Close">
                                <i class="fas fa-times"></i>
                            </button>
                        }
                    </header>
                }

                <section>
                    @ChildContent
                </section>
            </dialog>
        </div>
    </div>
}

@code {
    [Parameter] public bool IsVisible { get; set; }
    [Parameter] public string? Title { get; set; }
    [Parameter] public bool ShowCloseButton { get; set; } = true;
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public EventCallback OnClose { get; set; }

    private async Task Close()
    {
        await OnClose.InvokeAsync();
    }
}