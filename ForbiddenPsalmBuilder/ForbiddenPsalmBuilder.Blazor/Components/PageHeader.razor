@namespace ForbiddenPsalmBuilder.Components
<header class="page-header">
    @if (ShowBreadcrumb && BreadcrumbItems.Any())
    {
        <nav aria-label="breadcrumb" class="breadcrumb">
            @for (int i = 0; i < BreadcrumbItems.Count; i++)
            {
                var item = BreadcrumbItems[i];
                var isLast = i == BreadcrumbItems.Count - 1;
                @if (!isLast)
                {
                    <a href="@item.Href">@item.Text</a>
                    <span class="separator">/</span>
                }
                else
                {
                    <span class="current">@item.Text</span>
                }
            }
        </nav>
    }
    <div class="horizontal space">
        @if (!string.IsNullOrEmpty(Title))
        {
            <div class="title-section">
                <h1>@Title</h1>
                @if (!string.IsNullOrEmpty(Subtitle))
                {
                    <p class="subtitle">@Subtitle</p>
                }
            </div>
        }
        @if (Actions != null)
        {
            <div class="actions">
                @Actions
            </div>
        }
    </div>
</header>

@code {
    [Parameter] public string? Title { get; set; }
    [Parameter] public string? Subtitle { get; set; }
    [Parameter] public bool ShowBreadcrumb { get; set; } = true;
    [Parameter] public List<BreadcrumbItem> BreadcrumbItems { get; set; } = new();
    [Parameter] public RenderFragment? Actions { get; set; }

    public class BreadcrumbItem
    {
        public string Text { get; set; } = string.Empty;
        public string? Href { get; set; }
    }
}
