@namespace ForbiddenPsalmBuilder.Components

<Modal IsVisible="@IsVisible" OnClose="Cancel" Title="@Title">
    <div class="confirm-dialog">
        <p class="confirm-message">@Message</p>

        <div class="confirm-actions">
            <button type="button" class="button-secondary" @onclick="Cancel">
                <i class="fas fa-times"></i>
                Cancel
            </button>
            <button type="button" class="button-danger" @onclick="Confirm">
                <i class="fas fa-check"></i>
                @ConfirmText
            </button>
        </div>
    </div>
</Modal>

@code {
    [Parameter] public bool IsVisible { get; set; }
    [Parameter] public string Title { get; set; } = "Confirm";
    [Parameter] public string Message { get; set; } = "Are you sure?";
    [Parameter] public string ConfirmText { get; set; } = "Confirm";
    [Parameter] public EventCallback OnConfirm { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }

    private async Task Confirm()
    {
        if (OnConfirm.HasDelegate)
        {
            await OnConfirm.InvokeAsync();
        }
    }

    private async Task Cancel()
    {
        if (OnCancel.HasDelegate)
        {
            await OnCancel.InvokeAsync();
        }
    }
}